# 7. 가치 있는 단위 테스트를 위한 리팩터링

# 네 가지 코드 유형 알아보기

- 모든 제품 코드는 2차원으로 분류 가능
    - 복잡도 또는 도메인 유의성
    - 협력자 수
- 코드 복잡도, 도메인 유의성, 협력자 수의 조합으로 네가지 코드유형 분류 가능
    - 도메인 모델과 알고리즘
    - 간단한 코드
    - 컨트롤러
    - 지나치게 복잡한 코드
    - 요렇게 리팩토링 해라
    
    ![Untitled](7%20%E1%84%80%E1%85%A1%E1%84%8E%E1%85%B5%20%E1%84%8B%E1%85%B5%E1%86%BB%E1%84%82%E1%85%B3%E1%86%AB%20%E1%84%83%E1%85%A1%E1%86%AB%E1%84%8B%E1%85%B1%20%E1%84%90%E1%85%A6%E1%84%89%E1%85%B3%E1%84%90%E1%85%B3%E1%84%85%E1%85%B3%E1%86%AF%20%E1%84%8B%E1%85%B1%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%85%E1%85%B5%E1%84%91%E1%85%A2%E1%86%A8%E1%84%90%E1%85%A5%E1%84%85%E1%85%B5%E1%86%BC%201b63e97de8ea435ea410cba5088aeecf/Untitled.png)
    

# 험블 객체 패턴 이해

- 테스트하기 너무 어려운 의존서잉 있다면 험블 객체를 이용해 테스트가 가능한 부분을 추출해야 한다.
- 각 클래스는 단일한 책임만을 가져야 한다. 이 패턴을 사용하면 비즈니스 로직을 거의 모든 것과 분리할 수 있다.

# 가치 있는 테스트 작성

1. 암시적 의존성을 명시적으로 만들기
2. 애플리케이션 서비스 계층 도입
3. 애플리케이션 서비스 복잡도 낮추기
4. 다른 도메인 클래스를 만들기